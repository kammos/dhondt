"use strict";(self.webpackChunkd_hondt_calculator_online=self.webpackChunkd_hondt_calculator_online||[]).push([[850],{3244:(e,t,r)=>{r.d(t,{E:()=>n});var n=function(e){return"hsl(".concat(110*e%360,", 75%, 60%)")}},850:(e,t,r)=>{r.r(t),r.d(t,{Results:()=>_,default:()=>R});var n={};r.r(n);var a=r(5893),s=r(7294),i=r(7007),l=r(7676),c=r(3328),o=r(1449),d=r(5376),u=r(3244),f={weight:"bold",color:n.neutral,size:16};function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){var t=e.parties,r={plugins:{title:{text:"Seats per party",display:!0,font:f},datalabels:{color:n.neutral,font:p({},f)}},responsive:!0,maintainAspectRatio:!0,aspectRatio:1,x:{ticks:{font:p({},f)}}},s={labels:t.map((function(e){return e.name})),datasets:[{label:"Seats",data:t.map((function(e){return e.seats})),backgroundColor:t.map((function(e){return(0,u.E)(e.index)}))}]};return(0,a.jsx)(d.$Q,{options:r,data:s})},j=function(e){return parseFloat(Math.abs(e).toFixed(2))},b=function(e){return 0===e?"No seats gained/lost":"".concat(j(e)," seats ").concat(e>0?"gained":"lost")},x={plugins:{title:{text:"Difference from ideal number of seats",display:!0,font:{weight:"bold",size:16}},datalabels:{color:n.neutral,formatter:b,font:f}},responsive:!0,maintainAspectRatio:!0,aspectRatio:1,indexAxis:"y",scales:{y:{ticks:{font:f}},x:{suggestedMin:-.5,suggestedMax:.5}}},g=function(e){var t=e.parties,r={labels:t.map((function(e){return e.name})),datasets:[{label:"Seats gained or lost due to inaccuracy of D'Hondt method",data:t.map((function(e){return e.difference})),backgroundColor:t.map((function(e){return e.difference>0?n.plus:n.minus}))}]};return(0,a.jsx)(d.$Q,{options:x,data:r})};c.kL.register(c.uw,c.f$,c.ZL,c.Dx,c.u,o.Z);var y=r(3155);const w="_2J6EJ",O="fWkrf",N="_1qHCZ";var k=function(e,t){return Math.abs(t.difference)-Math.abs(e.difference)},E=function(e){var t=e.parties;if(!e.isDataValid)return(0,a.jsxs)("div",{className:w,children:[(0,a.jsx)("header",{className:"rnYHx",children:"The data you entered is invalid"}),(0,a.jsx)("div",{className:O,children:(0,a.jsxs)("p",{children:["It seems that some of the data you entered is invalid. Please go back to the ",(0,a.jsx)(y.rU,{href:"/setyp",className:N,children:"Enter data"})," tab and correct all fields marked in red."]})})]});if(0===t.length)return(0,a.jsxs)("div",{className:w,children:[(0,a.jsx)("header",{children:"It seems that you didn't enter any parties"}),(0,a.jsx)("div",{className:O,children:(0,a.jsxs)("p",{children:["To see election results, please go back to the ",(0,a.jsx)(y.rU,{href:"/setyp",className:N,children:"Enter data"})," tab and fill in at least one party."]})})]});var r,n=t.sort(k)[0];return 0===n.difference?(0,a.jsxs)("div",{className:w,children:[(0,a.jsx)("header",{children:"Wow, no party lost or gained any seats!"}),(0,a.jsxs)("div",{className:O,children:[(0,a.jsx)("p",{children:"Sadly, this is a rare occurence with the D'Hondt method."}),(0,a.jsx)("p",{children:"Try changing number votes received by each party even just a little."})]})]}):(0,a.jsxs)("div",{className:w,children:[(0,a.jsx)("header",{children:"Seems low?"}),(0,a.jsxs)("div",{className:O,children:[(0,a.jsxs)("p",{children:["Remember, this simulator only shows resuls for a ",(0,a.jsx)("em",{children:"single voting district"}),". In a real-world election, typically there will be multiple districts, allowing such discrepancies to accumulate."]}),(0,a.jsxs)("p",{children:["As an example, in the above simulation for a single district, party ",n.name," ",(0,a.jsx)("strong",{children:(r=n.difference,0===r?"gained/lost no seats":"".concat(r>0?"gained":"lost"," ").concat(j(r)," seats"))}),"."]}),(0,a.jsxs)("p",{children:["In a country with 40 voting districts, this would translate to ",(0,a.jsx)("strong",{children:b(Math.round(40*n.difference))})," nationwide."]})]})]})},D=function(e){return null==e.nameError&&null==e.votesError};const P="_2QRSt";var _=function(){var e,t;e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.calculator.resultsValid})),(0,s.useLayoutEffect)((function(){t||e(l.I.updateResults())}),[t,e]);var r=(0,i.v9)((function(e){return e.calculator.results})),n=Object.values(r).sort((function(e,t){return t.votes-e.votes})),c=0!==n.length,o=function(){var e=(0,i.v9)((function(e){return e.calculator}));return null==e.tresholdError&&null==e.seatsError&&Object.values(e.parties).every(D)}();return(0,a.jsxs)("div",{className:"_2biC3",children:[o&&c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:P,children:(0,a.jsx)(v,{parties:n})}),(0,a.jsx)("div",{className:P,children:(0,a.jsx)(g,{parties:n})})]}),(0,a.jsx)("div",{className:"Wgzpz",children:(0,a.jsx)(E,{parties:n,isDataValid:o})})]})};const R=_}}]);
//# sourceMappingURL=850.js.map